import model.unidades.*
import model.estados.*
import model.items.*
import atacable.*

describe "Unidades quemadas" {
	const unidad = new UnidadArmada(new Arma(20))
	fixture {
		unidad.estado(quemado)
	}
	
	test "Una unidad armada quemada pierde vida cuando ataca" {
		const vida = unidad.vida()
		unidad.atacar(atacable)
		assert.equals(vida-1 , unidad.vida())
	}
	
	test "Una unidad armada quemada realiza mas daño cuando ataca" {
		unidad.atacar(atacable)
		assert.equals(30, atacable.danioRecibido())
	}
	
	test "Cuando una unidad quemada recibe un ataque fisico recibe el doble de daño" {
		const unidadArmada = new UnidadArmada(new Arma(10))
		const vida = unidad.vida()
		
		unidadArmada.atacar(unidad)
		assert.equals(vida - 20, unidad.vida())
	}
}